"use strict";(self.webpackChunklakesoul_website=self.webpackChunklakesoul_website||[]).push([[1502],{1416:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"Usage Docs/setup-presto","title":"Use Presto to Query LakeSoul\'s Table","description":"Available since version 2.4.","source":"@site/docs/03-Usage Docs/10-setup-presto.md","sourceDirName":"03-Usage Docs","slug":"/Usage Docs/setup-presto","permalink":"/docs/Usage Docs/setup-presto","draft":false,"unlisted":false,"editUrl":"https://github.com/lakesoul-io/LakeSoul/tree/main/website/docs/03-Usage Docs/10-setup-presto.md","tags":[],"version":"current","sidebarPosition":10,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"LakeSoul Table Lifecycle Automatic Maintenance and Redundant Data Automatic Cleaning","permalink":"/docs/Usage Docs/clean-redundant-data"},"next":{"title":"LakeSoul\'s Supports for Python and Machine Learning","permalink":"/docs/Usage Docs/machine-learning-support"}}');var s=n(4848),a=n(8453);const r={},i="Use Presto to Query LakeSoul's Table",l={},c=[{value:"Download Jar package",id:"download-jar-package",level:2},{value:"Configure Presto",id:"configure-presto",level:2},{value:"Configure LakeSoul Meta DB Connection",id:"configure-lakesoul-meta-db-connection",level:2},{value:"Start Presto Client",id:"start-presto-client",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"use-presto-to-query-lakesouls-table",children:"Use Presto to Query LakeSoul's Table"})}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsx)(t.p,{children:"Available since version 2.4."})}),"\n",(0,s.jsxs)(t.p,{children:["LakeSoul implements Presto Connector and currently supports reading tables. It can read tables without primary keys and tables with primary keys (including ",(0,s.jsx)(t.a,{href:"/docs/Usage%20Docs/cdc-ingestion-table",children:"CDC format tables"}),"). When reading, Merge on Read will be automatically executed to obtain the latest data."]}),"\n",(0,s.jsx)(t.h2,{id:"download-jar-package",children:"Download Jar package"}),"\n",(0,s.jsxs)(t.p,{children:["You can download the Presto package from the Github Release page: ",(0,s.jsx)(t.a,{href:"https://github.com/lakesoul-io/LakeSoul/releases/download/v3.0.0/lakesoul-presto-presto-0.29-3.0.0.jar",children:"https://github.com/lakesoul-io/LakeSoul/releases/download/v3.0.0/lakesoul-presto-presto-0.29-3.0.0.jar"})]}),"\n",(0,s.jsx)(t.h2,{id:"configure-presto",children:"Configure Presto"}),"\n",(0,s.jsx)(t.p,{children:"Create a new lakesoul subdirectory in the plugin subdirectory under the Presto directory. Place the jar downloaded above into this subdirectory."}),"\n",(0,s.jsxs)(t.p,{children:["Create a new ",(0,s.jsx)(t.code,{children:"etc/catalog/lakesoul.properties"})," file (the specific etc directory location can be modified according to the presto deployment):"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-properties",children:"connector.name=lakesoul\nfs.s3a.access.key=minioadmin1\nfs.s3a.secret.key=minioadmin1\nfs.s3a.bucket=lakesoul-test-bucket\nfs.s3a.endpoint=http://minio:9000\n"})}),"\n",(0,s.jsxs)(t.p,{children:["The setting items starting with ",(0,s.jsx)(t.code,{children:"fs.s3a"})," are the configuration for accessing S3 and can be modified as needed."]}),"\n",(0,s.jsx)(t.h2,{id:"configure-lakesoul-meta-db-connection",children:"Configure LakeSoul Meta DB Connection"}),"\n",(0,s.jsxs)(t.p,{children:["Refer to the method in the ",(0,s.jsx)(t.a,{href:"/docs/Usage%20Docs/setup-meta-env",children:"Configure Metadata"})," document and use environment variables or JVM property to setup connection to meta DB. For example, JVM properties can be configured in ",(0,s.jsx)(t.a,{href:"https://prestodb.io/docs/current/installation/deployment.html#jvm-config",children:"Presto JVM Config"}),". Alternatively, use the environment variable ",(0,s.jsx)(t.code,{children:"LAKESOUL_PG_URL"}),". For cluster deployments (such as k8S), it is recommended to use Secret + environment variable reference to configure the metadata PG connection."]}),"\n",(0,s.jsx)(t.h2,{id:"start-presto-client",children:"Start Presto Client"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell",children:"./bin/presto --catalog lakesoul --schema default\n"})})]})}function u(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>i});var o=n(6540);const s={},a=o.createContext(s);function r(e){const t=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(a.Provider,{value:t},e.children)}}}]);