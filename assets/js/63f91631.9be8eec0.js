"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[590],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>f});var o=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,o,n=function(e,t){if(null==e)return{};var a,o,n={},r=Object.keys(e);for(o=0;o<r.length;o++)a=r[o],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)a=r[o],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var u=o.createContext({}),s=function(e){var t=o.useContext(u),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=s(e.components);return o.createElement(u.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,u=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),p=s(a),d=n,f=p["".concat(u,".").concat(d)]||p[d]||m[d]||r;return a?o.createElement(f,i(i({ref:t},c),{},{components:a})):o.createElement(f,i({ref:t},c))}));function f(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,i=new Array(r);i[0]=d;var l={};for(var u in t)hasOwnProperty.call(t,u)&&(l[u]=t[u]);l.originalType=e,l[p]="string"==typeof e?e:n,i[1]=l;for(var s=2;s<r;s++)i[s]=a[s];return o.createElement.apply(null,i)}return o.createElement.apply(null,a)}d.displayName="MDXCreateElement"},2723:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>u,contentTitle:()=>i,default:()=>m,frontMatter:()=>r,metadata:()=>l,toc:()=>s});var o=a(7462),n=(a(7294),a(3905));const r={},i="Mount LakeSoul Data to Hive Meta",l={unversionedId:"Tutorials/data-mount-to-hive",id:"Tutorials/data-mount-to-hive",title:"Mount LakeSoul Data to Hive Meta",description:"\x3c!--",source:"@site/docs/02-Tutorials/04-data-mount-to-hive.md",sourceDirName:"02-Tutorials",slug:"/Tutorials/data-mount-to-hive",permalink:"/docs/Tutorials/data-mount-to-hive",draft:!1,editUrl:"https://github.com/lakesoul-io/LakeSoul/tree/main/website/docs/02-Tutorials/04-data-mount-to-hive.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Snapshot Related API Usage Tutorial",permalink:"/docs/Tutorials/snapshot-manage"},next:{title:"Upsert Data and Merge UDF Tutorial",permalink:"/docs/Tutorials/upsert-and-merge-udf"}},u={},s=[{value:"Keep the Same Partition Name as LakeSoul Range",id:"keep-the-same-partition-name-as-lakesoul-range",level:2},{value:"Custom Hive Partition Name",id:"custom-hive-partition-name",level:2}],c={toc:s},p="wrapper";function m(e){let{components:t,...a}=e;return(0,n.kt)(p,(0,o.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"mount-lakesoul-data-to-hive-meta"},"Mount LakeSoul Data to Hive Meta"),(0,n.kt)("p",null,"Since version 2.0, LakeSoul supports two functions: attaching the directory path after Compaction to the specified Hive table, specifying the same partition name as LakeSoul, and customizing the partition name. This function can facilitate downstream systems that can only support Hive to read LakeSoul data. It is more recommended to support Hive JDBC through Kyuubi, so that you can directly use Hive JDBC to call the Spark engine to access the LakeSoul table, including Merge on Read."),(0,n.kt)("h2",{id:"keep-the-same-partition-name-as-lakesoul-range"},"Keep the Same Partition Name as LakeSoul Range"),(0,n.kt)("p",null,"The user can not add the hive partition name information, which is consistent with the LakeSoul partition name by default."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-scala"},'import com.dmetasoul.lakesoul.tables.LakeSoulTable\nval lakeSoulTable = LakeSoulTable.forName("lakesoul_test_table")\nlakeSoulTable.compaction("date=\'2021-01-01\'", "spark_catalog.default.hive_test_table")\n')),(0,n.kt)("h2",{id:"custom-hive-partition-name"},"Custom Hive Partition Name"),(0,n.kt)("p",null,"You can also customize the hive partition name to standardize the use of data in the hive partition."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-scala"},'import com.dmetasoul.lakesoul.tables.LakeSoulTable\nval lakeSoulTable = LakeSoulTable.forName("lakesoul_test_table")\nlakeSoulTable.compaction("date=\'2021-01-02\'", "spark_catalog.default.hive_test_table", "date=\'20210102\'")\n')),(0,n.kt)("p",null,"*",(0,n.kt)("em",{parentName:"p"},"Note ")," * The function of attaching data to the hive meta needs to be used together with the compression function. Please refer to API: 6. Comparison for relevant data compression functions"))}m.isMDXComponent=!0}}]);